<router-outlet></router-outlet>

<!-- card logout -->
<div class="card login">
  <img class="profile-photo" src="{{ this.user.photo }}" *ngIf="user!=null" (click)="goToMyProfile();">
  <label class="welcome-label" *ngIf="user!=null">Welcome, {{ user.firstName }}!</label>
  <h1 class="headline">UCL Bay</h1>
  <button class="button" routerLink="/register" *ngIf="user==null">
    <span>Register</span>
  </button>
  <button class="button" routerLink="/login" *ngIf="user==null">
    <span>Login</span>
  </button>
  <button class="button" (click)="logout()" *ngIf="user!=null">
    <span>Logout</span>
  </button>
  <button class="button" routerLink="/search" *ngIf="user!=null">
    <span>Main Page</span>
  </button>
</div>

<!-- item details -->
<section class="card my-items" *ngIf="user!=null">
  <br>
  <div class="space-bot text-center">
    <h2>My Items</h2>
  </div>
  <br>

  <button class="add-item-button" routerLink="/add-item">
    <span>Add New Item</span>
  </button>
  <br>
</section>

<!-- item grid -->
<div class="tabwrapper">
  <div class="tabs">
    <button id="auctions-btn" class="tablinks active" (click)="openTab('auctions-btn', 'auctions')">My Auctions</button>
    <!--
  -->
    <button id="bids-btn" class="tablinks" (click)="openTab('bids-btn', 'bids')">My Bids</button>
    <!--
  -->
    <button id="watching-btn" class="tablinks" (click)="openTab('watching-btn', 'watching')">Watching</button>
  </div>
</div>

<div class="grid-list-container tabcontent activetab" id="auctions">
  <h2 *ngIf="userAuctions !== null && userAuctions.length !== 0">Items that you are selling:</h2>
  <mat-grid-list cols="3" gutterSize="16">
    <mat-grid-tile *ngFor="let item of userAuctions">
      <app-item [item]="item" (click)="setItem(item)" [routerLink]="['/items', item.itemID]">
      </app-item>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<div class="tabcontent" id="bids">
  <h2 *ngIf="userTopBids !== null && userTopBids.length !== 0">Auctions where you are the current top bidder:</h2>
  <div class="grid-list-container">
    <mat-grid-list cols="3" gutterSize="16">
      <mat-grid-tile *ngFor="let item of userTopBids">
        <app-item [item]="item" (click)="setItem(item)" [routerLink]="['/items', item.itemID]">
        </app-item>
      </mat-grid-tile>
    </mat-grid-list>
  </div>

  <h2 *ngIf="userOutbid !== null && userOutbid.length !== 0">Auctions where you have been outbid:</h2>
  <div class="grid-list-container">
    <mat-grid-list cols="3" gutterSize="16">
      <mat-grid-tile *ngFor="let item of userOutbid">
        <app-item [item]="item" (click)="setItem(item)" [routerLink]="['/items', item.itemID]">
        </app-item>
      </mat-grid-tile>
    </mat-grid-list>
  </div>

</div>

<div class="grid-list-container tabcontent" id="watching">
  <h2 *ngIf="userWatching !== null && userWatching.length !== 0">Auctions that you are watching:</h2>
  <mat-grid-list cols="3" gutterSize="16">
    <mat-grid-tile *ngFor="let item of userWatching">
      <app-item [item]="item" (click)="setItem(item)" [routerLink]="['/items', item.itemID]">
      </app-item>
    </mat-grid-tile>
  </mat-grid-list>
</div>

